<div class="user-profile-container">
    <div class="user-profile-header">
      <img class="profile-picture" [src]="getProfilePicture()" alt="Profile Picture">
      <div class="author-details">
        <h2>{{ author?.username }}</h2>
        <p class="bio">{{ author?.bio || 'No bio available' }}</p>
        <button (click)="isEditingProfile = !isEditingProfile">
          {{ isEditingProfile ? 'Cancel' : 'Edit Profile' }}
        </button>
      </div>
    </div>
  
    <div class="user-profile-body">
      <h3>Personal Information</h3>
      <p><strong>Email:</strong> {{ author?.email || 'Not provided' }}</p>
      <p><strong>Joined:</strong> {{ author?.createdAt | date:'longDate' }}</p>
  
      <div *ngIf="isEditingProfile">
        <form (ngSubmit)="updateProfile()">
          <label>
            Username:
            <input [(ngModel)]="editingAuthor.username" name="username" required>
          </label>
          <label>
            Bio:
            <textarea [(ngModel)]="editingAuthor.bio" name="bio"></textarea>
          </label>
          <button type="submit">Save</button>
        </form>
      </div>
  
      <h3>Recent Posts</h3>
      <ng-container *ngIf="author">
        <app-post
          *ngFor="let post of filteredPosts"
          [post]="post"
          (postDeleted)="handlePostDeleted($event)"
          (postUpdated)="handlePostUpdated($event)"
          (newComment)="addCommentToPost($event, post.id)"
        ></app-post>
      </ng-container>
    </div>
  </div>
  